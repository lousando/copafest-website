---
import { renderRichText } from '@storyblok/astro'
import { FontAwesomeIcon } from "@fortawesome/vue-fontawesome";
import { faGithub } from "@fortawesome/free-brands-svg-icons";
import { getGlobalSettings } from "../utils/globalSettings";

const globalSettings = await getGlobalSettings()
const donationPitch = renderRichText(globalSettings.donation_pitch);
---

<footer class="footer has-text-centered">
		<div class="columns">
			<div class="column">
				<p set:html={donationPitch} />
				<form
					action="https://www.paypal.com/cgi-bin/webscr"
					method="post"
					target="_blank"
				>
					<input type="hidden" name="cmd" value="_s-xclick" />
					<input
						type="hidden"
						name="hosted_button_id"
						value="AL3TRQJ78JY6E"
					/>
					<button
						type="submit"
						class="square-button square-button--yellow"
					>
						Donate
					</button>
				</form>
			</div>
		</div>
		<div class="columns has-text-centered">
			<div class="column">
				<div class="content">
					<p>
						Maricopa Amateur Radio Association is a 501(c)(3)
						non-profit corporation.
					</p>
				</div>
				<a
					href="http://www.copahams.org/"
					rel="noopener"
					target="_blank"
				>
					<img
						class="mara-logo is-rounded"
						src="imgs/mara_logo.svg"
						alt="MARA Logo"
					/>
					<div>
						CopaHams.org
					</div>
				</a>
			</div>
		</div>
		<div class="columns has-text-center">
			<div class="column">
				<div>
					Site contributions welcome on Github
				</div>
				<a
					href="https://github.com/lousando/copafest-website"
					target="_blank"
					class="github-icon"
				>
					<FontAwesomeIcon icon={faGithub} />
				</a>
			</div>
		</div>
	</footer>

<style lang="scss">
.mara-logo {
	width: 14rem;
	height: 14rem;
}

a.github-icon,
a:visited.github-icon {
	color: black;
	font-size: 2.2rem;

  & svg {
    width: 2.2rem;
  }
}
</style>
